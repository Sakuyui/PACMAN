{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "A limited description of the machine graph.",
    "type": "object",
    "additionalProperties": false,
    "required": ["vertices", "edges"],
    "properties": {
        "label": {
            "description": "Label for the graph",
            "type": "string"
        },
        "vertices": {
            "type": "array",
            "items": {
                "type": "object",
                "additionalProperties": false,
                "required": ["class", "label", "constraints", "resources"],
                "properties": {
                    "class": {
                        "description": "Class of the Vertex",
                        "type": "string"
                    },
                    "label": {
                        "description": "Unique label for this Vertex",
                        "type": "string"
                    },
                    "constraints": {
                        "description": "Any Constrainst added to the vertex",
                        "type": "array",
                        "items": {
                            "type": "object",
                            "additionalProperties": true,
                            "required": [
                                "class"
                            ],
                            "properties": {
                                "class": {
                                    "description": "Class of the Constraint",
                                    "type": "string"
                                },
                                "board_address": {
                                    "description": "board_address defined by this Constraint ",
                                    "type": "string"
                                },
                                "x": {
                                    "description": "Chip X defined by this Constraint ",
                                    "type": "integer"
                                },
                                "y": {
                                    "description": "Chip Y defined by this Constraint ",
                                    "type": "integer"
                                },
                                "p": {
                                    "description": "Core defined by this Constraint ",
                                    "type": "integer"
                                },
                                "size": {
                                    "description": "size property of this Constraint ",
                                    "type": "integer"
                                },
                                "keys_and_masks": {
                                    "description": "key and property of this Constraint ",
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                        "key",
                                        "mask"
                                    ],
                                    "properties": {
                                        "key": {
                                            "description": "key value of the Constraint",
                                            "type": "integer"
                                        },
                                        "board_address": {
                                            "description": "mask value of the Constraint ",
                                            "type": "integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "resources": {
                        "description": "The resources used by this vertex",
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                            "dtcm",
                            "cpu_cycles",
                            "fixed_sdram",
                            "per_timestep_sdram",
                            "iptag",
                            "reverse_iptags"
                        ],
                        "properties": {
                            "dtcm": {
                                "description": "Dtcm required",
                                "type": "integer"
                            },
                            "cpu_cycles": {
                                "description": "cpu_cycles required",
                                "type": "integer"
                            },
                            "fixed_sdram": {
                                "description": "fixed part of sdram required",
                                "type": "integer"
                            },
                            "per_timestep_sdram": {
                                "description": "per timestep part of sdram required. May be zero",
                                "type": "integer"
                            },
                            "cpu_cycles": {
                                "description": "cpu_cycles required",
                                "type": "integer"
                            },
                            "cpu_cycles": {
                                "description": "cpu_cycles required",
                                "type": "integer"
                            },
                            "iptag": {
                                "description": "Any iptag added",
                                "type": "array"
                            },
                            "reverse_iptags": {
                                "description": "Any reverse_iptags added",
                                "type": "array"
                            }
                        }
                    }
                }
            }
         },
        "edges": {
            "type": "array"
        }
    }
}
